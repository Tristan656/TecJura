# Mandat d’acquisition et de mise en place des infrastructures informatiques

**Entreprise :** Tec’Jura SA  
**Adresse :** Rue de l’Industrie 12, 2800 Delémont (JU), Suisse  
**Secteur :** Gestion d’un mini-cloud  
**Effectif :** 50 employé·e·s  
**Départements :** Direction Générale / Développement / Support & Maintenance / Administration & Gestion  

---

## 1. Objectifs
- Mettre en place une infrastructure sécurisée et conforme aux normes suisses & européennes (RGPD + LPD).
- Garantir la haute disponibilité (HA) et la redondance pour l’hébergement du mini-cloud.
- Optimiser la performance pour 50 employé·e·s et leurs besoins en développement et support.
- Prévoir l’évolutivité et les sauvegardes externalisées sur territoire suisse.

---

## 2. Infrastructure serveur (mini-cloud)

### Serveurs principaux
- **2 serveurs physiques (HP, Dell ou Lenovo)**
  - CPU : Intel Xeon / AMD EPYC ≥ 16 cœurs
  - RAM : 256 Go minimum
  - Stockage : SSD NVMe 10 To (RAID 10)
  - Double alimentation redondante
- **1 serveur de sauvegarde (NAS professionnel)**
  - Capacité : 50 To en RAID 6
  - Sauvegarde locale + réplication vers datacenter suisse (Infomaniak, Green.ch)

### Virtualisation
- VMware vSphere, Hyper-V ou Proxmox VE

### Réseau & Sécurité
- Switchs manageables 10 GbE (Cisco, HP Aruba, Ubiquiti Unifi) – redondance x2
- Pare-feu nouvelle génération (Fortinet, Palo Alto, Sophos) + VPN SSL
- Routeur pro IPv6, multi-opérateurs (failover)
- Wi-Fi 6/6E avec contrôleur centralisé
- IDS/IPS + monitoring (Zabbix, Grafana)

---

## 3. Postes de travail & périphériques

### Employés (50 postes)
- Laptops pro (Dell Latitude, Lenovo ThinkPad, HP ProBook)
  - CPU i7 / Ryzen 7
  - RAM 16 Go
  - SSD 512 Go NVMe
  - Double écran 24"

### Développement
- 5 Workstations (Dell Precision, HP Z)
  - CPU ≥ 32 cœurs
  - RAM 64 Go
  - GPU NVIDIA RTX A4000 ou équivalent

### Périphériques communs
- 3 imprimantes multifonctions sécurisées
- Salles visioconférence (Zoom Room / Teams Room)
- Téléphonie VoIP (3CX, Swisscom, Mitel)

---

## 4. Logiciels & Services Cloud internes
- **Collaboration :** Nextcloud (hébergé en Suisse), Microsoft 365 ou Google Workspace
- **Gestion projet :** Jira, GitLab, Mattermost/Teams
- **Sécurité :** Antivirus/EDR centralisé (Sophos, CrowdStrike)
- **Identités :** Active Directory/LDAP, MFA obligatoire
- **Supervision :** Nagios, Zabbix, Grafana

---

## 5. Sauvegarde & conformité légale
- Stratégie **3-2-1** :
  - 3 copies (prod + NAS + cloud)
  - 2 supports différents (SSD, HDD, cloud)
  - 1 copie externalisée en Suisse
- Chiffrement **AES-256** (repos) + **TLS 1.3** (transit)
- Conformité **LPD + RGPD**
- Journalisation & traçabilité pour audits

---

## 6. Budget (CHF)
- Serveurs + stockage + réseau : **80’000 – 120’000**
- Postes & périphériques : **70’000 – 90’000**
- Licences & logiciels (3 ans) : **30’000 – 50’000**
- Sécurité & sauvegardes : **20’000 / an**
- **TOTAL : 200’000 – 250’000**

---

## 7. Logique de circulation
- Départements **admin + direction** → près de l’entrée
- Départements **Dev + Support** → regroupés
- **Salle serveurs** → isolée (sécurité + contrôle accès)
- Espaces communs → au centre

---

## 8. Installation du DC

### Configuration serveur
- Nommer le serveur
- Config IPv4 :
  - IP : `10.217.100.20`
  - Masque : `255.255.255.0`
  - Passerelle : `10.217.100.2`
  - DNS préféré : `127.0.0.1`
- Désactiver IPv6

### Ordre d’installation
1. AD DS
2. DNS
3. DC
4. OU
5. GPO
6. AGDLP
7. DHCP

---

## 9. DHCP
- Étendue : `10.217.100.1 → 10.217.100.254`
- Masque : `255.255.255.0`
- Bail : 8 jours
- Routeur (option 3) : `10.217.100.2`
- DNS : `10.217.100.20`
- Réservation : `10.217.100.10`

---

## 10. DNS
- Zone directe : `tecjura.local`
- Zone inversée : `10.217.100.x`
- Sécurisée si intégrée AD

---

## 11. OU & Utilisateurs

### Création des OU principales
1. Ouvrir **Utilisateurs et ordinateurs Active Directory**.
2. Créer une nouvelle **Unité d’organisation (OU)** nommée `TecJura`.
3. À l’intérieur de `TecJura`, créer les OU suivantes :
   - `Employés`
   - `Ordinateurs`
   - `Départements`

---

### Gestion des Utilisateurs
Dans l’OU **Employés**, créer les utilisateurs suivants :

| Nom complet           | Identifiant (login) | Mot de passe | Options                         |
|-----------------------|---------------------|--------------|---------------------------------|
| Tristan Chèvre        | tchevre            | Admlocal1    | Mot de passe n’expire jamais    |
| Albion Berisha        | aberisha           | Admlocal1    | Mot de passe n’expire jamais    |
| Rodrigo Gonçalves     | rgoncalves         | Admlocal1    | Mot de passe n’expire jamais    |

---

### Gestion des Ordinateurs
Dans l’OU **Ordinateurs**, créer les entrées suivantes :
- `CLI-1`
- `CLI-2`
- `CLI-3`

---

### Suppression d’un objet protégé
1. Dans la console, activer l’affichage **Fonctions avancées**.
2. Clic droit sur l’objet → **Propriétés**.
3. Onglet **Objet** → décocher *Protéger l’objet contre les suppressions accidentelles*.
4. Supprimer l’objet si nécessaire.

---

## 12. AGDLP (Modèle de gestion des accès)

### Étapes de configuration
1. Sur les postes clients, **désactiver IPv6** dans la carte réseau.
2. Configurer manuellement le DNS :
   - DNS préféré : `10.217.100.20`
3. Joindre le poste au domaine :
   - Propriétés système → Nom de l’ordinateur → Domaine : `tecjura.local`
   - Utilisateur : `Administrateur`
   - Mot de passe : `Admlocal1`

---

### Structure AGDLP

Le modèle **AGDLP** signifie :
- **A** : Accounts (Comptes utilisateurs)  
- **G** : Global Groups (Groupes globaux)  
- **DL** : Domain Local Groups (Groupes locaux de domaine)  
- **P** : Permissions (Droits sur les ressources)  

---

### 1. Comptes (A) → Utilisateurs

**OU Utilisateurs**
│
├── Tristan Chèvre (tchevre)
├── Albion Berisha (aberisha)
├── Rodrigo Gonçalves(rgoncalves)
└── User1

---

### 2. Groupes globaux (G) → Organisation par département

**Support_Maintenance**
│ └── Albion Berisha

**Développement**
│ └── Rodrigo Gonçalves

**Administration_Gestion**
│ └── Tristan Chèvre

**Direction**
│ └── User1

---

### 3. Groupes locaux de domaine (DL) → Liés aux ressources

**L_Support_Maintenance**
│ └── Support_Maintenance

**L_Developpement**
│ └── Développement

**L_Admin_Gestion**
│ └── Administration_Gestion

**L_Direction**
│ └── Direction

### Permissions (P)

Attribution des droits sur les ressources partagées, selon la logique **AGDLP**.

#### 1. Ressource Support
- Dossier partagé : `\\Serveur\Support`
- Groupe local : `L_Support_Maintenance`
- Droits : **Lecture/Écriture**

---

#### 2. Ressource Développement
- Dossier partagé : `\\Serveur\Dev`
- Groupe local : `L_Developpement`
- Droits : **Lecture/Écriture**

---

#### 3. Ressource Administration & Gestion
- Dossier partagé : `\\Serveur\Admin`
- Groupe local : `L_Admin_Gestion`
- Droits : **Lecture/Écriture**

---

#### 4. Ressource Direction
- Dossier partagé : `\\Serveur\Direction`
- Groupe local : `L_Direction`
- Droits : **Contrôle total**

---

## 13. GPO (Stratégies de groupe)

### 1. Fond d’écran d’entreprise
- Nom GPO : `GPO_FondDEcran`
- Chemin papier peint : `\\10.217.100.20\Wallpaper\fondentreprise2.jpg`
- Style : **Remplir**
- Application : Configuration utilisateur → Modèles d’administration → Bureau

---

### 2. Politique de mots de passe
- Nom GPO : `GPO_MotDePasse`
- Paramètres :
  - Historique : **24 mots de passe** mémorisés
  - Complexité : **activée**
  - Longueur minimale : **9 caractères**

---

### 3. Verrouillage automatique de session
- Nom GPO : `GPO_VerrouillageSession`
- Paramètres :
  - Inactivité max : **900 secondes (15 min)**
- Application : Config ordinateur → Stratégies locales → Options de sécurité

---

### 4. Lecteurs réseau automatiques
- Nom GPO : `GPO_LecteurRéseau`
- Mapping :
  - Lecteur `D:` → `\\10.217.100.20\Partage`
  - Option : **Toujours se reconnecter**

---

### 5. Raccourci Bureau automatique
- Nom GPO : `GPO_Bureau`
- Paramètres :
  - Nom : `README.md`
  - Emplacement : Bureau
  - Cible : `\\DC1\Partage\Bureau\README.md`

---

## 14. Blocage du ping (ICMP) sur Windows Server 2025

### Introduction
Dans le cadre de la sécurisation d’un serveur Windows, il peut être nécessaire de bloquer les requêtes ping (**ICMP Echo Request**).  

Le ping est pratique pour diagnostiquer les connexions réseau, mais il peut aussi être utilisé par des attaquants pour scanner un serveur et voir s’il est actif.  

Cette documentation explique comment mettre en place une règle de pare-feu sur **Windows Server 2025** afin de bloquer les réponses aux pings.  

---

### Étapes via l’interface graphique

#### 1. Ouvrir le pare-feu avancé
- Menu Démarrer → taper **Pare-feu Windows Defender** → Entrée.  
- La fenêtre **Pare-feu Windows Defender avec fonctions avancées** s’ouvre.  

#### 2. Créer une nouvelle règle entrante
- Dans le panneau de gauche, cliquer sur **Règles de trafic entrant**.  
- Dans le panneau de droite, cliquer sur **Nouvelle règle…**  
- Sélectionner **Personnalisée**, puis cliquer sur **Suivant**.  
- Laisser **Tous les programmes**, puis **Suivant**.  

#### 3. Choisir le protocole
- Dans *Protocole et ports*, choisir **ICMPv4**.  
- Cliquer sur **Personnaliser…**, cocher **Echo Request** et valider.  

#### 4. Définir l’action
- Laisser la portée par défaut (ou préciser une IP si nécessaire).  
- Dans *Action*, sélectionner **Bloquer la connexion**.  
- Cliquer sur **Suivant**.  

#### 5. Appliquer aux profils
- Choisir selon le contexte : **Domaine**, **Privé**, **Public**.  
- En général, cocher les trois.  

#### 6. Nommer la règle
- Exemple : **Blocage Ping ICMPv4**.  
- Cliquer sur **Terminer**.  

---

### Vérification
- **Depuis un autre poste, tester la connexion :**  

  `ping 10.217.100.20`
  
---

## 16. VPN (ProtonVPN)

### 1. Connexion avec un compte Proton VPN

#### 1. Lancez l'application Proton VPN depuis le menu Démarrer.
#### 2. Connectez-vous avec vos identifiants Proton VPN. Si vous n'avez pas de compte, il faut en créer depuis le site officiel

### 2. Connexion à un serveur VPN
- Cliquez sur le bouton "**Connexion rapide**" pour vous connecter automatiquement au serveur le plus rapide disponible.
- Pour choisir un serveur spécifique, cliquez sur "**Serveurs**", puis sélectionnez le pays et le serveur de votre choix (pays choisi : **USA**).

### 3. Vérification de la connexion
- Une fois connecté, vous pouvez vérifier votre adresse IP publique pour confirmer que votre connexion passe bien par le serveur VPN sélectionné.

## 17. Sauvegarde du serveur

- Ouvrir une invite de commande et taper :

     `Install-WindowsFeature -Name Windows-Server-Backup`
     
- Aller ensuite dans le gestionnaire de serveur → **Outils** → **Sauvegarde Windows Server**.
- Cliquer sur **Sauvegarde locale** → dans le menu à gauche, **Sauvegarde unique**.
- Type de configuration : **Personnalisé**.
- Ajouter des éléments : **État du système**.
- Cocher **Dossier partagé distant**.
- Emplacement : **\\\DC1\Partage\Image_système**.
- Cocher **Sauvegarder**.


## 18. Commandes utiles (administration GPO)

- Forcer l’application immédiate :
  
  `gpupdate /force`
- Générer le fichier html récapitulatif des droits GPO :

  `gpresult /h gpresult.html`
